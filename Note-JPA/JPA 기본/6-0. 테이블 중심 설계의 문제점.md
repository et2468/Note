# 테이블 중심 설계의 문제점

**참고자료**

해당 내용은 다음 강의를 참고하여 정리하였습니다. 

![](https://cdn.inflearn.com/public/courses/324119/course_cover/07c45106-3cfa-4dd6-93ed-a6449591831c/%E1%84%80%E1%85%B3%E1%84%85%E1%85%AE%E1%86%B8%205%20%E1%84%87%E1%85%A9%E1%86%A8%E1%84%89%E1%85%A1%204.png)

[실전! 스프링 부트와 JPA 활용1 - 웹 애플리케이션 개발](https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81%EB%B6%80%ED%8A%B8-JPA-%ED%99%9C%EC%9A%A9-1/dashboard)



### 테이블 설계

![image-20231005230035031](img/image-20231005230035031.png)



### 엔티티 설계

![image-20231005230312090](img/image-20231005230312090.png)



위는 테이블 설계에 엔티티 설계를 맞춘 형태이다.

객체스럽지 않고 테이블스러운 구조





### 문제코드

```java
Order order = em.find(Order.class, 1L);
Long memberId = order.getMemberId();

Member findMember = order.getMember();
```

해당 주문의 고객정보를 알고싶을 때, 위처럼 엔티티를 설계하게 되면,

1. pk값으로 DB에서 ORDER 데이터를 가져오고, order 객체에 넣어준다.

2. order 객체에서 memberId 값으로 DB에서 MEMBER 데이터를 가져오고, member객체에 넣어준다.

무언가 객체스럽지 않고 DB스러운 느낌

우리는 `order.getMember()`로 객체를 그래프 탐색 하고싶다. -> **연관관계 매핑으로 해결**



문제점들 정리

- 현재 방식은 객체 설계를 테이블 설계에 맞춘 방식
- 테이블의 외래키를 객체에 그대로 가져옴
- 객체 그래프 탐색이 불가능
- 참조가 없으므로 UML도 잘못됨



