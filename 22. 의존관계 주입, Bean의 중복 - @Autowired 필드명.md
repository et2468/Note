# 의존관계 주입, 조회 Bean이 2개 이상일 때 - @Autowired 필드명 

### @Autowired에서 bean 중복

1. 의존성을 주입할 때, 스프링 컨테이너에서 타입으로 Bean을 조회한다.
2. 한 타입에 여러 Bean이 있으면 필드명으로 Bean이름을 조회한다. 



### 문제코드

```java
@Component
public class FixDiscountPolicy implements DiscountPolicy {}
```

```java
@Component
public class RateDiscountPolicy implements DiscountPolicy {}
```

```java
@Component
public class OrderServiceImpl implements OrderService {
    
    private final DiscountPolicy discountPolicy;
    
    @Autowired 
    public OrderServiceImpl(DiscountPolicy discountPolicy) {
        this.discountPolicy = discountPolicy;
    }
}
```

1. 현재 DiscountPolicy타입의 2개의 클래스가 bean으로 등록됨 (컴포넌트 스캔)

2. 여러 bean이 있으므로 필드명 discountPolicy로 bean이름을 조회하지만 찾지못함

-> `NoUniqueBeanDefinitionException`



### @Autowired 필드명으로 해결한 코드

```java
@Component
public class OrderServiceImpl implements OrderService {
    
    private final DiscountPolicy discountPolicy;
    
    @Autowired 
    public OrderServiceImpl(DiscountPolicy ratediscountPolicy) {
        this.discountPolicy = ratediscountPolicy;
    }
}
```

1. 현재 DiscountPolicy타입의 2개의 클래스가 bean으로 등록됨 (컴포넌트 스캔)
2. 여러 bean이 있으므로 필드명 ratediscountPolicy로 bean이름을 조회하고 해당 bean 주입

