# 파일시스템

### 파일의 구조



![image-20230719190313691](img/image-20230719190313691.png)

파일이란?

- 관련정보자료의 집합
- 레코드, 블록단위로 비휘발성 보조장치에 저장



파일은 2영역으로 나뉜다.

1. 메타데이터

- 파일을 관리하기 위한 각종정보 (이름, 유형, 저장위치, 사이즈, 접근제한, 소유자, 시간 등)



2. 데이터

- 파일에 저장되는 실제 내용



보통 보조기억장치에는 

디렉토리를 저장하는 영역과 실제 데이터를 저장하는 영역이 따로 있다.

메타데이터는 디렉토리에 저장되고, 데이터는 데이터블록으로 하드디스크에 저장한다.



### 디렉토리

컴퓨터에서 파일과 하위 디렉토리를 구조적으로 분류하기 위해 사용되는 데이터 구조

계층적인 구조로 최상위 디렉토리를 '루트 디렉토리'라고 한다.





### 파일 시스템

컴퓨터의 데이터를 관리를 효율적으로 하기 위한 체계화 시스템

운영체제의 일부로 운영체제마다 지원하는 파일 시스템이 다르다

- Windows: NTFS, FAT32, exFAT 

- macOS: HFS+, APFS
- Linux: ext4, XFS, Btrfs



파일을 찾을때

1. 파일시스템의 루트 디렉토리에서 시작하여 사용자가 지정한 경로를 따라 디렉토리를 순차적으로 탐색한다
2. 디렉토리 엔트리에서 파일의 메타데이터를 확인하고 그 위치를 찾는다.
3. 하드디스크에서 파일정보를 가져와 사용자 or 응용프로그램에 제공한다.



최대한 간단하게 파일시스템의 작동예시를 적어보았으며 더욱 구체적인 예시는 아래에 남겨놓겠다.

그리고 디렉토리엔트리도 조사했는데 읽어도 뭔지 잘 모르겠다.

구체적인 파일시스템의 알고리즘이나 딮한 내용은 필요하면 다시 자료를 조사해보겠다.



파일을 찾을때 예시 구체화

```markdown
1. 파일 시스템의 디렉토리 구조 탐색
파일 시스템은 디렉토리 구조를 통해 파일을 검색합니다. 디렉토리 구조는 파일 및 하위 디렉토리들의 계층 구조를 나타내며, 파일 시스템의 루트 디렉토리에서 시작합니다. 파일 시스템은 루트 디렉토리로부터 사용자가 지정한 경로를 따라 디렉토리를 순차적으로 탐색하며 파일을 찾습니다.

2. 디렉토리 엔트리 검색
파일 시스템은 디렉토리 엔트리(Directory Entry)를 검색하여 파일을 식별합니다. 디렉토리 엔트리는 파일의 이름과 해당 파일의 메타데이터를 포함하고 있습니다. 파일 시스템은 디렉토리 엔트리 테이블 또는 디렉토리 블록을 참조하여 파일 이름과 일치하는 엔트리를 검색합니다.

3. 메타데이터 확인
파일 시스템은 검색된 디렉토리 엔트리에서 파일의 메타데이터를 확인합니다. 메타데이터는 파일의 크기, 생성 일자, 수정 일자, 액세스 권한 등의 정보를 담고 있습니다. 파일 시스템은 메타데이터를 통해 파일의 특성을 파악하고, 파일의 데이터 블록이나 위치 등을 식별합니다.

4. 파일 위치 식별
파일 시스템은 검색된 파일의 위치를 식별합니다. 위치 식별은 파일이 데이터 블록으로 구성된 경우 해당 데이터 블록의 위치를 찾는 것을 의미합니다. 파일 시스템은 메타데이터에 저장된 정보나 파일 시스템의 데이터 매핑 구조를 사용하여 파일의 데이터 블록들을 식별합니다.

5. 파일 접근 권한 확인
파일 시스템은 파일에 대한 접근 권한을 확인합니다. 파일 시스템은 파일의 액세스 권한 정보를 메타데이터에서 가져와 사용자의 권한과 비교합니다. 이를 통해 파일에 대한 읽기, 쓰기, 실행 등의 작업이 가능한지 확인합니다.

6. 파일 찾기 결과 반환
파일 시스템은 검색 과정을 통해 찾은 파일의 정보를 반환합니다. 이 정보에는 파일의 경로, 이름, 메타데이터 등이 포함될 수 있습니다. 파일 시스템은 이 정보를 사용자 또는 응용 프로그램에 제공하여 파일을 찾을 수 있도록 합니다.
```

